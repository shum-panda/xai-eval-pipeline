@startuml
title XAI Pipeline - Architektur Overview

!theme plain
skinparam linetype ortho



' Main Pipeline Components
package "Core Pipeline" {
    [Orchestrator] <<Control>>
    [ResultManager] as R
    [DataModule] as D
    [ModelModule] as M
    [XAIModule] as X
    [EvalModule] as E
    [VisModule] as V
    [SingleRunAnalyse] <<Statistical Analysis>>
}
package "Multi-Run Analysis" {
    [MultiRunAnalyzer] <<Comparative Analysis & Visualization>>
}
package "Storage" {
    [Filesystem] <<results/>>
}

R -[#red,thickness=2]-> Filesystem : Store Results & Metrics

' Core Pipeline Flow (green)
D -[#green]-> M : Images & Labels
M -[#green]-> X : Model & Activations
X -[#green]-> E : Heatmaps & Attributions
E -[#green]-> R : Evaluation Results
R -[#green]-> V : Metrics & Data

' Control Flow (orange) from Orchestrator
Orchestrator -[#orange,dashed,thickness=2]-> D : Configuration
Orchestrator -[#orange,dashed,thickness=2]-> M : Model Selection
Orchestrator -[#orange,dashed,thickness=2]-> X : Method Selection
Orchestrator -[#orange,dashed,thickness=2]-> E : Evaluation Setup
Orchestrator -[#orange,dashed,thickness=2]-> SingleRunAnalyse : Trigger Analysis

' Single Run Analysis Flow (blue)
R -[#blue]-> SingleRunAnalyse : CSV Data
' Storage Flow (red)

' Multi-Run Analysis Flow (purple) - Reading from Filesystem
MultiRunAnalyzer -[#purple,thickness=2]-> Filesystem : Read Experiment Data
@enduml
